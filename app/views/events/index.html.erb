<h1>Listing events</h1>

<script type="text/javascript" charset="utf-8">
  $(function() {
    new Highcharts.Chart({
      chart: {
        renderTo: "events_chart"
      },
      title: {
        text: "Weight over time"
      },
      xAxis: {
        type: "datetime"
      },
      yAxis: {
        title: {
          text: "Weight"
        }
      },
      series: [{
        pointInterval: <%= 1.day * 1000 %>,
        pointStart: <%= 3.weeks.ago.to_i * 1000 %>,
        data: [1, 2, 5, 7, 3]
      }]
    });
  });
</script>
<div id="events_chart" style="width:560px; height:300px"></div>

<table>
  <tr>
    <th>Title</th>
    <th>Starts at</th>
    <th>Ends at</th>
    <th>All day</th>
    <th>Description</th>
    <th>User_id</th>
    <th></th>
    <th></th>
  </tr>

<% @events.each do |event| %>
  <tr>
    <td><%= event.title %></td>
    <td><%= event.starts_at %></td>
    <td><%= event.ends_at %></td>
    <td><%= event.all_day %></td>
    <td><%= event.description %></td>
    <td><%= event.user_id %></td>
    <td><%= link_to 'Show', event %></td>
    <td><%= link_to 'Edit', edit_event_path(event) %></td>
    <td><%= link_to 'Destroy', event, :confirm => 'Are you sure?', :controller => "event", :method => :delete %></td>
  </tr>
<% end %>
</table>

<br />
<%= link_to 'view calendar', calendar_index_path %>
<br/>
<%= link_to 'New Event', new_event_path %>
